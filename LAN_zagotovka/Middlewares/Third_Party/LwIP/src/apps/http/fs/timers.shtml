<!DOCTYPE HTML>
<html>

<head>
  <title>Таблица</title>
  <link type="image/x-icon" rel="shortcut icon" href="favicon.ico">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="styles.css">

</head>

<body>



  <center>
    <h1>'DevEBox' - STM32F407VG</h1>

    <!--#menu-->
    <style>
      ul {
        padding: 0;
        margin-left: 20px;
      }
    </style>

    <h4>Timers</h4>

  </center>

  <form action="timers.shtml" method="post">


    <table class="zebra_2" border="1" align="center" id="tab1">
      <tr>
        <th>ID <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">ID - уникальный числовой идентификатор кнопки.</span>
            </a>
          </div>
        </th>
        <th>Pin <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Pin - номер пина (цифрового или аналогового), куда подключена кнопка.</span>
            </a>
          </div>
        </th>
        <th>Immediately<div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Immediately т.е. включение таймера сразу после подачи питания.</span>
            </a>
          </div>
        </th>
        <th class="firstline">Start data<div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Start data - укажите дату и время включения таймера.</span>
            </a>
          </div>
        </th>
        <th class="firstline">End data <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">End data - укажите дату и время отключения таймера.</span>
            </a>
          </div>
        </th>
        <th class="firstline">Repeat <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Repeat - укажите численное значение интервала и его размерность, максимальное
                значение 999.</span>
            </a>
          </div>
        </th>
        <th class="firstline">Action<div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Action - Укажите действие таймера.</span>
            </a>
          </div>
        </th>
        <th class="firstline">Group<div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Group - Укажите в какие группы этот таймер входит.</span>
            </a>
          </div>
        </th>
        <th>INFO <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Укажите краткую информацию данного таймера.</span>
            </a>
          </div>
        </th>
        <th>On/Off <div class="tooltip">
            <a class="support" href="#">(?)
              <span class="tooltiptext">Включить либо отключить данный таймер.</span>
            </a>
          </div>
        </th>
      </tr>

    </table>
    <center>
      <br>
      <button> Save On/Off </button>
    </center>
  </form>
  <script>
    $(document).ready(function () {
      $.getJSON('json.shtml?jsongo=2', function (data) {
        var employee_data = '';
        var n = 0;
        var z = '';

        $.each(data, function (key, val) {
          if (val.topin == 2) {
            employee_data += '<tr>';
            employee_data += '<td>' + val.id + '</td>';
            employee_data += '<td>' + val.pins + '</td>';

            employee_data += '<td align=\"center\">' + val.binter + '</td>';
            employee_data += '<td align=\"center\">' + val.hinter + '</td>';
            employee_data += '<td align=\"center\">' + val.repeat + '</td>';
            employee_data += '<td align=\"center\">' + val.rinter + '</td>';
            employee_data += '<td align=\"center\">' + val.dcinter + '</td>';
            employee_data += '<td align=\"center\">' + val.pclick + '</td>';
            employee_data += '<td align=\"center\">';

            for (var key in val.pinact) {
              employee_data += '<span>' + key + ' [<a href="timers.shtml?del=' + val.pinact[key] + '">X</a>] </span> ';
            }

            employee_data += '</td>'
            employee_data += '<td>' + val.info + '</td>';
            if (val.onoff == 1) {
              employee_data += '<td><label class=\"switch\"> <input name=\"onoff_' + val.id + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + val.id + '\" value=\"1\" checked=\"checked\"><span class=\"slider round\"></span></label></td>'
            } else {
              employee_data += '<td><label class=\"switch\"> <input name=\"onoff_' + val.id + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + val.id + '\" value=\"1\" unchecked=\"unchecked\"><span class=\"slider round\"></span></label></td>'
            }
            employee_data += '<td>| <a href=\"edit_timers.shtml?id=' + val.id + '&pin=' + val.pins + '&tab=1\">Edit</a> |</td>';
            employee_data += '</tr>';
          }
          n++;
        });
        $('#tab1').append(employee_data);
      });
    });
  </script>
</body>

</html>