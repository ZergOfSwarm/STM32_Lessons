<!DOCTYPE HTML>
<html>

<head>
  <title>STM32</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="styles.css">

</head>

<body>

  <center>
    <h1>'DevEBox' - STM32F407VG</h1>

    <a href="index.shtml">Home</a> |
    <a href="select.shtml">Select pins</a> |
    <a href="tab1.shtml">Buttom pins</a> |
    <a href="tab2.shtml">Relay pins</a> |
    <a href="T_tab.shtml">Set timer</a>

    <h4 id="title1">Edit timer for this pin.</h4>

  </center>
  <form action="T_form.shtml" method="post">
    <table class="zebra_2" border="1" align="center" id="tab1">
    </table>
    <br>
    <center>
      <button> Save pin </button>
      <input type="reset" value="Reset">
    </center>

  </form>

  <script>
    var response = '<!--#formjson-->';

    $(document).ready(function () {

      var val = JSON.parse(response);
      var employee_data = '';

      var employee_data_pin = '';
      employee_data_pin += ' ' + val.pins + ' ';

      employee_data += '<tr><td>ID</td><td>' + val.id + '</td></tr>';
      employee_data += '<tr><td>Pin</td><td>' + val.pins + '</td></tr>';
      employee_data += '<tr><td>Days of week</td><td><input type=\"number\" min=\"0\" max="7" name=\"dow_' + val.id + '\" value=\"' + val.dow + '\"  size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Time</td><td><input type=\"number\" min=\"0\" name=\"tim_' + val.id + '\" value=\"' + val.tim + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Hour</td><td><input type=\"number\" min=\"0\" max="23" name=\"hr_' + val.id + '\" value=\"' + val.hr + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Minutes</td><td><input type=\"number\" max="59" min=\"0\" name=\"min_' + val.id + '\" value=\"' + val.min + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Seconds</td><td><input type=\"number\" max="59" min=\"0\" name=\"sec_' + val.id + '\" value=\"' + val.sec + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Sunrise</td><td><input type=\"number\" min=\"0\" name=\"sr_' + val.id + '\" value=\"' + val.sr + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Sunset</td><td><input type=\"number\" min=\"0\" name=\"ss_' + val.id + '\" value=\"' + val.ss + '\" size=\"5\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Longitude</td><td><input type=\"number\" min=\"0\" name=\"lon_' + val.id + '\" value=\"' + val.lon + '\" size=\"12\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>Latitude</td><td><input type=\"number\" min=\"0\" name=\"lat_' + val.id + '\" value=\"' + val.lat + '\" size=\"12\" style=\"width:45px;\"></td></tr>';
      employee_data += '<tr><td>INFO</td><td><input type=\"text\"  maxlength=\"20\" name=\"info_' + val.id + '\" value=\"' + val.info + '\"></td></tr>';
      if (val.onoff == 1) {
        employee_data += '<tr><td>On/Off</td><td><label class=\"switch\"> <input name=\"onoff_' + val.id + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + val.id + '\" value=\"1\" checked=\"checked\"><span class=\"slider round\"></span></label></td></tr>';
      } else {
        employee_data += '<tr><td>On/Off</td><td><label class=\"switch\"> <input name=\"onoff_' + val.id + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + val.id + '\" value=\"1\" unchecked=\"unchecked\"><span class=\"slider round\"></span></label></td></tr>';
      }
      $('#tab1').append(employee_data);
      $('#title1').append(employee_data_pin);
    });

  </script>
</body>

</html>