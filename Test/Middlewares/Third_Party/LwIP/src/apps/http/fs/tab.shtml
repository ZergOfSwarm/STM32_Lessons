<!DOCTYPE HTML>
<html>

<head>
  <title>Таблица</title>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="cache-control" content="max-age=0" />
  <meta http-equiv="cache-control" content="no-cache" />
  <meta http-equiv="expires" content="0" />
  <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
  <meta http-equiv="pragma" content="no-cache" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <link rel="stylesheet" href="styles.css">
  <style>
    table,
    th,
    td {
      border: 1px solid black;
      border-collapse: collapse;
      padding: 5px;
    }

    tr:nth-child(odd) {
      background-color: #CCFFCC;
    }
  </style>
</head>

<body>
  <form action="tab.shtml?go=1" method="post">
    <button type="Reset">Reset</button>
    <button> Save config </button>
    <!--Укажи правильное значение для кнопки "Update settings" width="100%"-->
    <table class="zebra" border="1" align="center" id="tab1">
      <style>
        h1 {
          font-family: Verdana, Arial, Helvetica, sans-serif;
          /* Рубленый шрифт заголовка */
        }

        p {
          font-family: 'Times New Roman', Times, serif;
          /* Шрифт с засечками */
          font-style: italic;
          /* Курсивное начертание */
        }

        .firstline {
          width: 10px;
        }
      </style>
      <caption>
        <h1>'DevEBox' - STM32F407VG</h1>
      </caption>
      <tr>
        <th>ID</th>
        <th>Pin</th>
        <th>Pullup type</th>
        <th class="firstline">Bounce interval (ms)</th>
        <th class="firstline">Hold interval (ms)</th>
        <th class="firstline">Repeat</th>
        <th class="firstline">Repeat interval (ms)</th>
        <th class="firstline">Double-click interval (ms)</th>
        <th class="firstline">Prevent Click</th>
        <th>INFO</th>
        <th>On/Off</th>
      </tr>

    </table>

  </form>
  <script>
    $(document).ready(function () {
      $.getJSON('tabjson.shtml', function (data) {
        var employee_data = '';
        var n = 0;
        var z = '';

        $.each(data, function (key, val) {
          employee_data += '<tr>';
          employee_data += '<td>' + n + '</td>';
          employee_data += '<td>' + val.pins + '</td>';
          employee_data += '<td><select name=\"pulluptype_' + n + '\">';
          if (val.pulluptype == 'NULL') {
            employee_data += ' <option value=\"NULL\" selected>NULL</option>';
          } else {
            employee_data += ' <option value=\"NULL\">NULL</option>';
          }
          if (val.pulluptype == 'INTERNAL_PULLDOWN') {
            employee_data += ' <option value=\"INTERNAL_PULLDOWN\" selected>INTERNAL_PULLDOWN</option>';
          } else {
            employee_data += ' <option value=\"INTERNAL_PULLDOWN\">INTERNAL_PULLDOWN</option>';
          }
          if (val.pulluptype == 'INTERNAL_PULLUP') {
            employee_data += ' <option value=\"INTERNAL_PULLUP\" selected>INTERNAL_PULLUP</option>';
          } else {
            employee_data += ' <option value=\"INTERNAL_PULLUP\">INTERNAL_PULLUP</option>';
          }
          if (val.pulluptype == 'EXTERNAL_PULLUP') {
            employee_data += ' <option value=\"EXTERNAL_PULLUP\" selected>EXTERNAL_PULLUP</option>';
          } else {
            employee_data += ' <option value=\"EXTERNAL_PULLUP\">EXTERNAL_PULLUP</option>';
          }
          employee_data += '</select></td>';
          employee_data += '<td><input type=\"number\" name=\"bounceinterval_' + n + '\" value=\"' + val.bounceinterval + '\"  size=\"5\"></td>';
          employee_data += '<td><input type=\"number\" name=\"holdinterval_' + n + '\" value=\"' + val.holdinterval + '\" size=\"5\"></td>';
          employee_data += '<td><input type=\"number\" name=\"repeat_' + n + '\" value=\"' + val.repeat + '\" size=\"5\"></td>';
          employee_data += '<td><input type=\"number\" name=\"repeatinterval_' + n + '\" value=\"' + val.repeatinterval + '\" size=\"5\"></td>';
          employee_data += '<td><input type=\"number\" name=\"doubleclickinterval_' + n + '\" value=\"' + val.doubleclickinterval + '\" size=\"5\"></td>';
          employee_data += '<td><input type=\"number\" name=\"preventclick_' + n + '\" value=\"' + val.preventclick + '\" size=\"5\"></td>';
          employee_data += '<td><input type=\"text\" name=\"infofield_' + n + '\" placeholder=\"Text\" value=\"' + val.infofield + '\" size=\"5\"></td>';
          if (val.onoff == 1) {
            employee_data += '<td><label class=\"switch\"> <input name=\"onoff_' + n + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + n + '\" value=\"1\" checked=\"checked\"><span class=\"slider round\"></span></label></td>'
          } else {
            employee_data += '<td><label class=\"switch\"> <input name=\"onoff_' + n + '\" type=\"hidden\" value=\"0\"> <input type=\"checkbox\" name=\"onoff_' + n + '\" value=\"1\" unchecked=\"unchecked\"><span class=\"slider round\"></span></label></td>'
          }
          employee_data += '</tr>';
          n++;
        });
        $('#tab1').append(employee_data);
      });
    });
  </script>
</body>

</html>